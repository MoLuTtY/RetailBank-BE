package com.cts.account.repository;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.query.Param;

import com.cts.account.model.Account;
import com.cts.account.model.AccountId;

public interface AccountRepository extends JpaRepository<Account, Long>{

	Account findTopByOrderByAccountIdDesc();
	
    @Query("SELECT a FROM Account a WHERE a.customerId = :customerId AND a.accountId.accountType = 'SAVINGS'")
    Account findSavingsAccountByCustomerId(@Param("customerId") Long customerId);

    @Query("SELECT  a FROM Account a WHERE a.accountNo = :accountNo AND a.accountId.accountType = :accountType")
	Account viewCustomerByAccountNoAndAccountType(Long accountNo, AccountId accountType);


}
